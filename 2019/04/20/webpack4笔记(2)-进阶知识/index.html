<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />





  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "45775042"
    });
  daovoice('update');
  </script>














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="webpackç¬”è®°," />





  <link rel="alternate" href="/atom.xml" title="æ½¼æ½¼çˆ±coding" type="application/atom+xml" />






<meta name="description" content="ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„åœ¨ webpack æ”¯æŒçš„å‰ç«¯ä»£ç æ¨¡å—åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ import * as m from â€˜./index.jsâ€™ æ¥å¼•ç”¨ä»£ç æ¨¡å— index.jsã€‚ å¼•ç”¨ç¬¬ä¸‰æ–¹ç±»åº“åˆ™æ˜¯åƒè¿™æ ·ï¼šimport React from â€˜reactâ€™ã€‚webpack æ„å»ºçš„æ—¶å€™ï¼Œä¼šè§£æä¾èµ–åï¼Œç„¶åå†å»åŠ è½½ä¾èµ–çš„æ¨¡å—æ–‡ä»¶ï¼Œé‚£ä¹ˆ webpack å¦‚ä½•å°†ä¸Šè¿°ç¼–å†™çš„ ./index.">
<meta name="keywords" content="webpackç¬”è®°">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†">
<meta property="og:url" content="https://ilove-coding.github.io/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/index.html">
<meta property="og:site_name" content="æ½¼æ½¼çˆ±coding">
<meta property="og:description" content="ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„åœ¨ webpack æ”¯æŒçš„å‰ç«¯ä»£ç æ¨¡å—åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ import * as m from â€˜./index.jsâ€™ æ¥å¼•ç”¨ä»£ç æ¨¡å— index.jsã€‚ å¼•ç”¨ç¬¬ä¸‰æ–¹ç±»åº“åˆ™æ˜¯åƒè¿™æ ·ï¼šimport React from â€˜reactâ€™ã€‚webpack æ„å»ºçš„æ—¶å€™ï¼Œä¼šè§£æä¾èµ–åï¼Œç„¶åå†å»åŠ è½½ä¾èµ–çš„æ¨¡å—æ–‡ä»¶ï¼Œé‚£ä¹ˆ webpack å¦‚ä½•å°†ä¸Šè¿°ç¼–å†™çš„ ./index.">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-04-24T03:43:26.907Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†">
<meta name="twitter:description" content="ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„åœ¨ webpack æ”¯æŒçš„å‰ç«¯ä»£ç æ¨¡å—åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ import * as m from â€˜./index.jsâ€™ æ¥å¼•ç”¨ä»£ç æ¨¡å— index.jsã€‚ å¼•ç”¨ç¬¬ä¸‰æ–¹ç±»åº“åˆ™æ˜¯åƒè¿™æ ·ï¼šimport React from â€˜reactâ€™ã€‚webpack æ„å»ºçš„æ—¶å€™ï¼Œä¼šè§£æä¾èµ–åï¼Œç„¶åå†å»åŠ è½½ä¾èµ–çš„æ¨¡å—æ–‡ä»¶ï¼Œé‚£ä¹ˆ webpack å¦‚ä½•å°†ä¸Šè¿°ç¼–å†™çš„ ./index.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://ilove-coding.github.io/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/"/>






  <title>webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯† | æ½¼æ½¼çˆ±coding</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/iLove-Coding"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æ½¼æ½¼çˆ±coding</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">å‰ç«¯å¼€å‘å°è¿·å¦¹~</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://ilove-coding.github.io/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="tongtong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1516370448451&di=1e8172ba90a1a66f4caf86ce44558beb&imgtype=0&src=http%3A%2F%2Fp1.gexing.com%2Ftouxiang%2F20121103%2F1718%2F5094e150a277e_200x200_3.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ½¼æ½¼çˆ±coding">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-04-20T16:52:06+08:00">
                2019-04-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webpackç¬”è®°/" itemprop="url" rel="index">
                    <span itemprop="name">webpackç¬”è®°</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°ç»Ÿè®¡&#58;</span>
                
                <span title="å­—æ•°ç»Ÿè®¡">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„"><a href="#ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„" class="headerlink" title="ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„"></a>ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„</h3><p>åœ¨ webpack æ”¯æŒçš„å‰ç«¯ä»£ç æ¨¡å—åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»ä¼¼ import * as m from â€˜./index.jsâ€™ æ¥å¼•ç”¨ä»£ç æ¨¡å— index.jsã€‚</p>
<p>å¼•ç”¨ç¬¬ä¸‰æ–¹ç±»åº“åˆ™æ˜¯åƒè¿™æ ·ï¼šimport React from â€˜reactâ€™ã€‚webpack æ„å»ºçš„æ—¶å€™ï¼Œä¼šè§£æä¾èµ–åï¼Œç„¶åå†å»åŠ è½½ä¾èµ–çš„æ¨¡å—æ–‡ä»¶ï¼Œé‚£ä¹ˆ webpack å¦‚ä½•å°†ä¸Šè¿°ç¼–å†™çš„ ./index.js æˆ– react è§£ææˆå¯¹åº”çš„æ¨¡å—æ–‡ä»¶è·¯å¾„å‘¢ï¼Ÿ</p>
<p>webpack ä¸­æœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„æ¨¡å— enhanced-resolve å°±æ˜¯å¤„ç†ä¾èµ–æ¨¡å—è·¯å¾„çš„è§£æçš„ï¼Œè¿™ä¸ªæ¨¡å—å¯ä»¥è¯´æ˜¯ Node.js é‚£ä¸€å¥—æ¨¡å—è·¯å¾„è§£æçš„å¢å¼ºç‰ˆæœ¬ï¼Œæœ‰å¾ˆå¤šå¯ä»¥è‡ªå®šä¹‰çš„è§£æé…ç½®ã€‚</p>
<h4 id="æ¨¡å—è§£æè§„åˆ™"><a href="#æ¨¡å—è§£æè§„åˆ™" class="headerlink" title="æ¨¡å—è§£æè§„åˆ™"></a>æ¨¡å—è§£æè§„åˆ™</h4><p>ç®€å•æ•´ç†ä¸€ä¸‹åŸºæœ¬çš„æ¨¡å—è§£æè§„åˆ™ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£åç»­ webpack çš„ä¸€äº›é…ç½®ä¼šäº§ç”Ÿçš„å½±å“ã€‚</p>
<ul>
<li>è§£æç›¸å¯¹è·¯å¾„<ol>
<li>æŸ¥æ‰¾ç›¸å¯¹å½“å‰æ¨¡å—çš„è·¯å¾„ä¸‹æ˜¯å¦æœ‰å¯¹åº”æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</li>
<li>æ˜¯æ–‡ä»¶åˆ™ç›´æ¥åŠ è½½</li>
<li>æ˜¯æ–‡ä»¶å¤¹åˆ™ç»§ç»­æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸‹çš„ package.json æ–‡ä»¶</li>
<li>æœ‰ package.json æ–‡ä»¶åˆ™æŒ‰ç…§æ–‡ä»¶ä¸­ main å­—æ®µçš„æ–‡ä»¶åæ¥æŸ¥æ‰¾æ–‡ä»¶</li>
<li>æ—  package.json æˆ–è€…æ—  main å­—æ®µåˆ™æŸ¥æ‰¾ index.js æ–‡ä»¶</li>
</ol>
</li>
<li>è§£ææ¨¡å—å<br>æŸ¥æ‰¾å½“å‰æ–‡ä»¶ç›®å½•ä¸‹ï¼Œçˆ¶çº§ç›®å½•åŠä»¥ä¸Šç›®å½•ä¸‹çš„ node_modules æ–‡ä»¶å¤¹ï¼Œçœ‹æ˜¯   å¦æœ‰å¯¹åº”åç§°çš„æ¨¡å—</li>
<li>è§£æç»å¯¹è·¯å¾„ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰<br>ç›´æ¥æŸ¥æ‰¾å¯¹åº”è·¯å¾„çš„æ–‡ä»¶</li>
</ul>
<p>åœ¨ webpack é…ç½®ä¸­ï¼Œå’Œæ¨¡å—è·¯å¾„è§£æç›¸å…³çš„é…ç½®éƒ½åœ¨ resolve å­—æ®µä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h4><ol>
<li><strong>resolve.alias</strong></li>
</ol>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸ª utils æ¨¡å—æå…¶å¸¸ç”¨ï¼Œç»å¸¸ç¼–å†™ç›¸å¯¹è·¯å¾„å¾ˆéº»çƒ¦ï¼Œå¸Œæœ›å¯ä»¥ç›´æ¥ import â€˜utilsâ€™ æ¥å¼•ç”¨ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é…ç½®æŸä¸ªæ¨¡å—çš„åˆ«åï¼Œå¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias: &#123;</span><br><span class="line">  utils: path.resolve(__dirname, <span class="string">'src/utils'</span>) <span class="comment">// è¿™é‡Œä½¿ç”¨ path.resolve å’Œ __dirname æ¥è·å–ç»å¯¹è·¯å¾„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°çš„é…ç½®æ˜¯æ¨¡ç³ŠåŒ¹é…ï¼Œæ„å‘³ç€åªè¦æ¨¡å—è·¯å¾„ä¸­æºå¸¦äº† utils å°±å¯ä»¥è¢«æ›¿æ¢æ‰ï¼Œå¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'utils/query.js'</span> <span class="comment">// ç­‰åŒäº import '[é¡¹ç›®ç»å¯¹è·¯å¾„]/src/utils/query.js'</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœéœ€è¦è¿›è¡Œç²¾ç¡®åŒ¹é…å¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias: &#123;</span><br><span class="line">  utils$: path.resolve(__dirname, <span class="string">'src/utils'</span>) <span class="comment">// åªä¼šåŒ¹é… import 'utils'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>resolve.extensions</strong></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extensions: [<span class="string">'.wasm'</span>, <span class="string">'.mjs'</span>, <span class="string">'.js'</span>, <span class="string">'.json'</span>, <span class="string">'.jsx'</span>, <span class="string">'.css'</span>],</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªé…ç½®å¯ä»¥å®šä¹‰åœ¨è¿›è¡Œæ¨¡å—è·¯å¾„è§£ææ—¶ï¼Œwebpack ä¼šå°è¯•å¸®ä½ è¡¥å…¨é‚£äº›åç¼€åæ¥è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¾‹å¦‚æœ‰äº†ä¸Šè¿°çš„é…ç½®ï¼Œå½“ä½ åœ¨ src/utils/ ç›®å½•ä¸‹æœ‰ä¸€ä¸ª common.js æ–‡ä»¶æ—¶ï¼Œå°±å¯ä»¥è¿™æ ·æ¥å¼•ç”¨ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> common <span class="keyword">from</span> <span class="string">'./src/utils/common'</span></span><br></pre></td></tr></table></figure>
<p>webpack ä¼šå°è¯•ç»™ä½ ä¾èµ–çš„è·¯å¾„æ·»åŠ ä¸Š extensions å­—æ®µæ‰€é…ç½®çš„åç¼€ï¼Œç„¶åè¿›è¡Œä¾èµ–è·¯å¾„æŸ¥æ‰¾ï¼Œæ‰€ä»¥å¯ä»¥å‘½ä¸­ src/utils/common.js æ–‡ä»¶ã€‚</p>
<ol>
<li><strong>resolve.modules</strong></li>
</ol>
<p>å¯¹äºç›´æ¥å£°æ˜ä¾èµ–åçš„æ¨¡å—ï¼ˆå¦‚ react ï¼‰ï¼Œwebpack ä¼šç±»ä¼¼ Node.js ä¸€æ ·è¿›è¡Œè·¯å¾„æœç´¢ï¼Œæœç´¢ node_modules ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å°±æ˜¯ä½¿ç”¨ resolve.modules å­—æ®µè¿›è¡Œé…ç½®çš„ï¼Œé»˜è®¤å°±æ˜¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  modules: [<span class="string">'node_modules'</span>],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ä¼šè°ƒæ•´è¿™ä¸ªé…ç½®ï¼Œä½†æ˜¯å¦‚æœå¯ä»¥ç¡®å®šé¡¹ç›®å†…æ‰€æœ‰çš„ç¬¬ä¸‰æ–¹ä¾èµ–æ¨¡å—éƒ½æ˜¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ node_modules ä¸­çš„è¯ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ node_modules ä¹‹å‰é…ç½®ä¸€ä¸ªç¡®å®šçš„ç»å¯¹è·¯å¾„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  modules: [</span><br><span class="line">    path.resolve(__dirname, <span class="string">'node_modules'</span>), <span class="comment">// æŒ‡å®šå½“å‰ç›®å½•ä¸‹çš„ node_modules ä¼˜å…ˆæŸ¥æ‰¾</span></span><br><span class="line">    <span class="string">'node_modules'</span>, <span class="comment">// å¦‚æœæœ‰ä¸€äº›ç±»åº“æ˜¯æ”¾åœ¨ä¸€äº›å¥‡æ€ªçš„åœ°æ–¹çš„ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„è·¯å¾„æˆ–è€…ç›®å½•</span></span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<ol>
<li><strong>resolve.mainFields</strong></li>
</ol>
<blockquote>
<p>package.json æ–‡ä»¶åˆ™æŒ‰ç…§æ–‡ä»¶ä¸­ main å­—æ®µçš„æ–‡ä»¶åæ¥æŸ¥æ‰¾æ–‡ä»¶</p>
</blockquote>
<p>ä¹‹å‰æœ‰æåˆ°è¿™ä¹ˆä¸€å¥è¯ï¼Œå…¶å®ç¡®åˆ‡çš„æƒ…å†µå¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œwebpack çš„ resolve.mainFields é…ç½®å¯ä»¥è¿›è¡Œè°ƒæ•´ã€‚å½“å¼•ç”¨çš„æ˜¯ä¸€ä¸ªæ¨¡å—æˆ–è€…ä¸€ä¸ªç›®å½•æ—¶ï¼Œä¼šä½¿ç”¨ package.json æ–‡ä»¶çš„å“ªä¸€ä¸ªå­—æ®µä¸‹æŒ‡å®šçš„æ–‡ä»¶ï¼Œé»˜è®¤çš„é…ç½®æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  <span class="comment">// é…ç½® target === "web" æˆ–è€… target === "webworker" æ—¶ mainFields é»˜è®¤å€¼æ˜¯ï¼š</span></span><br><span class="line">  mainFields: [<span class="string">'browser'</span>, <span class="string">'module'</span>, <span class="string">'main'</span>],</span><br><span class="line"></span><br><span class="line">  <span class="comment">// target çš„å€¼ä¸ºå…¶ä»–æ—¶ï¼ŒmainFields é»˜è®¤å€¼ä¸ºï¼š</span></span><br><span class="line">  mainFields: [<span class="string">"module"</span>, <span class="string">"main"</span>],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>å› ä¸ºé€šå¸¸æƒ…å†µä¸‹ï¼Œæ¨¡å—çš„ package éƒ½ä¸ä¼šå£°æ˜ browser æˆ– module å­—æ®µï¼Œæ‰€ä»¥ä¾¿æ˜¯ä½¿ç”¨ main äº†ã€‚</p>
<p>åœ¨ NPM packages ä¸­ï¼Œä¼šæœ‰äº› package æä¾›äº†ä¸¤ä¸ªå®ç°ï¼Œåˆ†åˆ«ç»™æµè§ˆå™¨å’Œ Node.js ä¸¤ä¸ªä¸åŒçš„è¿è¡Œæ—¶ä½¿ç”¨ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦åŒºåˆ†ä¸åŒçš„å®ç°å…¥å£åœ¨å“ªé‡Œã€‚å¦‚æœä½ æœ‰ç•™æ„ä¸€äº›ç¤¾åŒºå¼€æºæ¨¡å—çš„ package.json çš„è¯ï¼Œä½ ä¹Ÿè®¸ä¼šå‘ç° browser æˆ–è€… module ç­‰å­—æ®µçš„å£°æ˜ã€‚</p>
<ol>
<li><strong>resolve.mainFiles</strong></li>
</ol>
<p>å½“ç›®å½•ä¸‹æ²¡æœ‰ package.json æ–‡ä»¶æ—¶ï¼Œæƒ³è¦é»˜è®¤ä½¿ç”¨ç›®å½•ä¸‹çš„ index.js è¿™ä¸ªæ–‡ä»¶ï¼Œå…¶å®è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥é…ç½®çš„ï¼Œä½¿ç”¨ resolve.mainFiles å­—æ®µï¼Œé»˜è®¤é…ç½®æ˜¯ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  mainFiles: [<span class="string">'index'</span>], <span class="comment">// ä½ å¯ä»¥æ·»åŠ å…¶ä»–é»˜è®¤ä½¿ç”¨çš„æ–‡ä»¶å</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬ä¹Ÿæ— é¡»ä¿®æ”¹è¿™ä¸ªé…ç½®ï¼Œindex.js åŸºæœ¬å°±æ˜¯çº¦å®šä¿—æˆçš„äº†ã€‚</p>
<ol>
<li><strong>resolve.resolveLoader</strong></li>
</ol>
<p>è¿™ä¸ªå­—æ®µ resolve.resolveLoader ç”¨äºé…ç½®è§£æ loader æ—¶çš„ resolve é…ç½®ï¼ŒåŸæœ¬ resolve çš„é…ç½®é¡¹åœ¨è¿™ä¸ªå­—æ®µä¸‹åŸºæœ¬éƒ½æœ‰ã€‚æˆ‘ä»¬çœ‹ä¸‹é»˜è®¤çš„é…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  resolveLoader: &#123;</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.json'</span>],</span><br><span class="line">    mainFields: [<span class="string">'loader'</span>, <span class="string">'main'</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæä¾›çš„é…ç½®ç›¸å¯¹å°‘ç”¨ï¼Œæˆ‘ä»¬ä¸€èˆ¬éµä»æ ‡å‡†çš„ä½¿ç”¨æ–¹å¼ï¼Œä½¿ç”¨é»˜è®¤é…ç½®ï¼Œç„¶åæŠŠ loader å®‰è£…åœ¨é¡¹ç›®æ ¹è·¯å¾„ä¸‹çš„ node_modules ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<h3 id="äºŒã€é…ç½®loader"><a href="#äºŒã€é…ç½®loader" class="headerlink" title="äºŒã€é…ç½®loader"></a>äºŒã€é…ç½®loader</h3><h4 id="loaderåŒ¹é…è§„åˆ™"><a href="#loaderåŒ¹é…è§„åˆ™" class="headerlink" title="loaderåŒ¹é…è§„åˆ™"></a>loaderåŒ¹é…è§„åˆ™</h4><p>å½“æˆ‘ä»¬éœ€è¦é…ç½® loader æ—¶ï¼Œéƒ½æ˜¯åœ¨ module.rules ä¸­æ·»åŠ æ–°çš„é…ç½®é¡¹ï¼Œåœ¨è¯¥å­—æ®µä¸­ï¼Œæ¯ä¸€é¡¹è¢«è§†ä¸ºä¸€æ¡åŒ¹é…ä½¿ç”¨ loader çš„è§„åˆ™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [ </span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.jsx?/</span>, <span class="comment">// æ¡ä»¶</span></span><br><span class="line">        include: [ </span><br><span class="line">          path.resolve(__dirname, <span class="string">'src'</span>),</span><br><span class="line">        ], <span class="comment">// æ¡ä»¶</span></span><br><span class="line">        use: <span class="string">'babel-loader'</span>, <span class="comment">// è§„åˆ™åº”ç”¨ç»“æœ</span></span><br><span class="line">      &#125;, <span class="comment">// ä¸€ä¸ª object å³ä¸€æ¡è§„åˆ™</span></span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>loader çš„åŒ¹é…è§„åˆ™ä¸­æœ‰ä¸¤ä¸ªæœ€å…³é”®çš„å› ç´ ï¼šä¸€ä¸ªæ˜¯åŒ¹é…æ¡ä»¶ï¼Œä¸€ä¸ªæ˜¯åŒ¹é…è§„åˆ™åçš„åº”ç”¨ã€‚</p>
<p>åŒ¹é…æ¡ä»¶é€šå¸¸éƒ½ä½¿ç”¨è¯·æ±‚èµ„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„æ¥è¿›è¡ŒåŒ¹é…ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£ä¸­ç§°ä¸º resourceï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰æ¯”è¾ƒå°‘ç”¨åˆ°çš„ issuerï¼Œåˆ™æ˜¯å£°æ˜ä¾èµ–è¯·æ±‚çš„æºæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚</p>
<p>ä¸Šè¿°ä»£ç ä¸­çš„ test å’Œ include éƒ½ç”¨äºåŒ¹é… resource è·¯å¾„ï¼Œæ˜¯ resource.test å’Œ resource.include çš„ç®€å†™ï¼Œä½ ä¹Ÿå¯ä»¥è¿™ä¹ˆé…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  rules: [ </span><br><span class="line">      &#123;</span><br><span class="line">        resource: &#123; <span class="comment">// resource çš„åŒ¹é…æ¡ä»¶</span></span><br><span class="line">          test: <span class="regexp">/\.jsx?/</span>, </span><br><span class="line">          include: [ </span><br><span class="line">            path.resolve(__dirname, <span class="string">'src'</span>),</span><br><span class="line">          ],</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// å¦‚æœè¦ä½¿ç”¨ issuer åŒ¹é…ï¼Œä¾¿æ˜¯ issuer: &#123; test: ... &#125;</span></span><br><span class="line">        use: <span class="string">'babel-loader'</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ], </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>issuer è§„åˆ™åŒ¹é…çš„åœºæ™¯æ¯”è¾ƒå°‘è§ï¼Œå¯ä»¥ç”¨å®ƒæ¥å°è¯•çº¦æŸæŸäº›ç±»å‹çš„æ–‡ä»¶ä¸­åªèƒ½å¼•ç”¨æŸäº›ç±»å‹çš„æ–‡ä»¶ã€‚</p>
</blockquote>
<p>å½“è§„åˆ™çš„æ¡ä»¶åŒ¹é…æ—¶ï¼Œä¾¿ä¼šä½¿ç”¨å¯¹åº”çš„ loader é…ç½®ï¼Œå¦‚ä¸Šè¿°ä¾‹å­ä¸­çš„ babel-loaderã€‚</p>
<h4 id="è§„åˆ™æ¡ä»¶é…ç½®"><a href="#è§„åˆ™æ¡ä»¶é…ç½®" class="headerlink" title="è§„åˆ™æ¡ä»¶é…ç½®"></a>è§„åˆ™æ¡ä»¶é…ç½®</h4><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé…ç½® loader çš„åŒ¹é…æ¡ä»¶æ—¶ï¼Œåªè¦ä½¿ç”¨ test å­—æ®µå°±å¥½äº†ï¼Œå¾ˆå¤šæ—¶å€™éƒ½åªéœ€è¦åŒ¹é…æ–‡ä»¶åç¼€åæ¥å†³å®šä½¿ç”¨ä»€ä¹ˆ loaderï¼Œä½†ä¹Ÿä¸æ’é™¤åœ¨æŸäº›ç‰¹æ®Šåœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®æ¯”è¾ƒå¤æ‚çš„åŒ¹é…æ¡ä»¶ã€‚webpack çš„è§„åˆ™æä¾›äº†å¤šç§é…ç½®å½¢å¼ï¼š</p>
<ul>
<li>{ test: â€¦ } åŒ¹é…ç‰¹å®šæ¡ä»¶</li>
<li>{ include: â€¦ } åŒ¹é…ç‰¹å®šè·¯å¾„</li>
<li>{ exclude: â€¦ } æ’é™¤ç‰¹å®šè·¯å¾„</li>
<li>{ and: [â€¦] }å¿…é¡»åŒ¹é…æ•°ç»„ä¸­æ‰€æœ‰æ¡ä»¶</li>
<li>{ not: [â€¦] } æ’é™¤åŒ¹é…æ•°ç»„ä¸­æ‰€æœ‰æ¡ä»¶</li>
<li>{ or: [â€¦] } åŒ¹é…æ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªæ¡ä»¶</li>
</ul>
<p>ä¸Šè¿°çš„æ‰€è°“æ¡ä»¶çš„å€¼å¯ä»¥æ˜¯ï¼š</p>
<ul>
<li>å­—ç¬¦ä¸²ï¼šå¿…é¡»ä»¥æä¾›çš„å­—ç¬¦ä¸²å¼€å§‹ï¼Œæ‰€ä»¥æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦æä¾›ç»å¯¹è·¯å¾„</li>
<li>æ­£åˆ™è¡¨è¾¾å¼ï¼šè°ƒç”¨æ­£åˆ™çš„ test æ–¹æ³•æ¥åˆ¤æ–­åŒ¹é…</li>
<li>å‡½æ•°ï¼š(path) =&gt; booleanï¼Œè¿”å› true è¡¨ç¤ºåŒ¹é…</li>
<li>æ•°ç»„ï¼šè‡³å°‘åŒ…å«ä¸€ä¸ªæ¡ä»¶çš„æ•°ç»„</li>
<li>å¯¹è±¡ï¼šåŒ¹é…æ‰€æœ‰å±æ€§å€¼çš„æ¡ä»¶</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.jsx?/</span>, <span class="comment">// æ­£åˆ™</span></span><br><span class="line">    include: [</span><br><span class="line">      path.resolve(__dirname, <span class="string">'src'</span>), <span class="comment">// å­—ç¬¦ä¸²ï¼Œæ³¨æ„æ˜¯ç»å¯¹è·¯å¾„</span></span><br><span class="line">    ], <span class="comment">// æ•°ç»„</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    test: &#123;</span><br><span class="line">      js: <span class="regexp">/\.js/</span>,</span><br><span class="line">      jsx: <span class="regexp">/\.jsx/</span>,</span><br><span class="line">    &#125;, <span class="comment">// å¯¹è±¡ï¼Œä¸å»ºè®®ä½¿ç”¨</span></span><br><span class="line">    not: [</span><br><span class="line">      (value) =&gt; &#123; <span class="comment">/* ... */</span> <span class="keyword">return</span> <span class="literal">true</span>; &#125;, <span class="comment">// å‡½æ•°ï¼Œé€šå¸¸éœ€è¦é«˜åº¦è‡ªå®šä¹‰æ—¶æ‰ä¼šä½¿ç”¨</span></span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<h4 id="module-type"><a href="#module-type" class="headerlink" title="module type"></a>module type</h4><p>webpack 4.x ç‰ˆæœ¬å¼ºåŒ–äº† module typeï¼Œå³æ¨¡å—ç±»å‹çš„æ¦‚å¿µï¼Œç›¸å½“äº webpack å†…ç½®ä¸€ä¸ªæ›´åŠ åº•å±‚çš„æ–‡ä»¶ç±»å‹å¤„ç†ï¼Œæš‚æ—¶åªæœ‰ JS ç›¸å…³çš„æ”¯æŒï¼Œåç»­ä¼šå†æ·»åŠ  HTML å’Œ CSS ç­‰ç±»å‹ã€‚ä¸åŒçš„æ¨¡å—ç±»å‹ç±»ä¼¼äºé…ç½®äº†ä¸åŒçš„ loaderï¼Œwebpack ä¼šæœ‰é’ˆå¯¹æ€§åœ°è¿›è¡Œå¤„ç†ï¼Œç°é˜¶æ®µå®ç°äº†ä»¥ä¸‹ 5 ç§æ¨¡å—ç±»å‹ã€‚</p>
<ul>
<li>javascript/autoï¼šå³ webpack 3 é»˜è®¤çš„ç±»å‹ï¼Œæ”¯æŒç°æœ‰çš„å„ç§ JS ä»£ç æ¨¡å—ç±»å‹ â€”â€” CommonJSã€AMDã€ESM</li>
<li>javascript/esmï¼šECMAScript modulesï¼Œå…¶ä»–æ¨¡å—ç³»ç»Ÿï¼Œä¾‹å¦‚ CommonJS æˆ–è€… AMD ç­‰ä¸æ”¯æŒï¼Œæ˜¯ .mjs æ–‡ä»¶çš„é»˜è®¤ç±»å‹</li>
<li>javascript/dynamicï¼šCommonJS å’Œ AMDï¼Œæ’é™¤ ESM</li>
<li>javascript/jsonï¼šJSON æ ¼å¼æ•°æ®ï¼Œrequire æˆ–è€… import éƒ½å¯ä»¥å¼•å…¥ï¼Œæ˜¯ .json æ–‡ä»¶çš„é»˜è®¤ç±»å‹</li>
<li>webassembly/experimentalï¼šWebAssembly modulesï¼Œå½“å‰è¿˜å¤„äºè¯•éªŒé˜¶æ®µï¼Œæ˜¯ .wasm æ–‡ä»¶çš„é»˜è®¤ç±»å‹</li>
</ul>
<p>å¦‚æœä¸å¸Œæœ›ä½¿ç”¨é»˜è®¤çš„ç±»å‹çš„è¯ï¼Œåœ¨ç¡®å®šå¥½åŒ¹é…è§„åˆ™æ¡ä»¶æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ type å­—æ®µæ¥æŒ‡å®šæ¨¡å—ç±»å‹ï¼Œä¾‹å¦‚æŠŠæ‰€æœ‰çš„ JS ä»£ç æ–‡ä»¶éƒ½è®¾ç½®ä¸ºå¼ºåˆ¶ä½¿ç”¨ ESM ç±»å‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.js/</span>,</span><br><span class="line">  include: [</span><br><span class="line">    path.resolve(__dirname, <span class="string">'src'</span>),</span><br><span class="line">  ],</span><br><span class="line">  type: <span class="string">'javascript/esm'</span>, <span class="comment">// è¿™é‡ŒæŒ‡å®šæ¨¡å—ç±»å‹</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°åšæ³•æ˜¯å¯ä»¥å¸®åŠ©ä½ è§„èŒƒæ•´ä¸ªé¡¹ç›®çš„æ¨¡å—ç³»ç»Ÿï¼Œä½†æ˜¯å¦‚æœé—ç•™å¤ªå¤šä¸åŒç±»å‹çš„æ¨¡å—ä»£ç æ—¶ï¼Œè¿˜æ˜¯ç›´æ¥ä½¿ç”¨é»˜è®¤çš„ javascript/autoã€‚</p>
<h4 id="ä½¿ç”¨loaderé…ç½®"><a href="#ä½¿ç”¨loaderé…ç½®" class="headerlink" title="ä½¿ç”¨loaderé…ç½®"></a>ä½¿ç”¨loaderé…ç½®</h4><p>åœ¨å½“å‰ç‰ˆæœ¬çš„ webpack ä¸­ï¼Œmodule.rules çš„åŒ¹é…è§„åˆ™æœ€é‡è¦çš„è¿˜æ˜¯ç”¨äºé…ç½® loaderï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ use å­—æ®µï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.less/</span>,</span><br><span class="line">    use: [</span><br><span class="line">      <span class="string">'style-loader'</span>, <span class="comment">// ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤º loader</span></span><br><span class="line">      &#123;</span><br><span class="line">        loader: <span class="string">'css-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          importLoaders: <span class="number">1</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;, <span class="comment">// ç”¨å¯¹è±¡è¡¨ç¤º loaderï¼Œå¯ä»¥ä¼ é€’ loader é…ç½®ç­‰</span></span><br><span class="line">      &#123;</span><br><span class="line">        loader: <span class="string">'less-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          noIeCompat: <span class="literal">true</span></span><br><span class="line">        &#125;, <span class="comment">// ä¼ é€’ loader é…ç½®</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<p>use å­—æ®µå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…è¡¨ç¤º loader çš„å¯¹è±¡ã€‚å¦‚æœåªéœ€è¦ä¸€ä¸ª loaderï¼Œä¹Ÿå¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use: &#123; <span class="attr">loader</span>: <span class="string">'babel-loader'</span>, <span class="attr">options</span>: &#123; ... &#125; &#125;</span><br></pre></td></tr></table></figure>
<h4 id="loaderåº”ç”¨é¡ºåº"><a href="#loaderåº”ç”¨é¡ºåº" class="headerlink" title="loaderåº”ç”¨é¡ºåº"></a>loaderåº”ç”¨é¡ºåº</h4><p>ï¼Œä¸€ä¸ªåŒ¹é…è§„åˆ™ä¸­å¯ä»¥é…ç½®ä½¿ç”¨å¤šä¸ª loaderï¼Œå³ä¸€ä¸ªæ¨¡å—æ–‡ä»¶å¯ä»¥ç»è¿‡å¤šä¸ª loader çš„è½¬æ¢å¤„ç†ï¼Œåœ¨ä¸€ä¸ªruleä¸­è¿›è¡Œçš„æ‰§è¡Œé¡ºåºæ˜¯ä»å³å¾€å·¦ã€‚<br>å¦‚æœå¤šä¸ª rule åŒ¹é…äº†åŒä¸€ä¸ªæ¨¡å—æ–‡ä»¶ï¼Œloader çš„åº”ç”¨é¡ºåºåˆæ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">"eslint-loader"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">"babel-loader"</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
<blockquote>
<p>eslint-loader è¦æ£€æŸ¥çš„æ˜¯äººå·¥ç¼–å†™çš„ä»£ç ï¼Œå¦‚æœåœ¨ babel-loader ä¹‹åä½¿ç”¨ï¼Œé‚£ä¹ˆæ£€æŸ¥çš„æ˜¯ Babel è½¬æ¢åçš„ä»£ç ï¼Œæ‰€ä»¥å¿…é¡»åœ¨ babel-loader å¤„ç†ä¹‹å‰ä½¿ç”¨ã€‚</p>
</blockquote>
<p>è¿™æ ·æ— æ³•æ³•ä¿è¯ eslint-loader åœ¨ babel-loader åº”ç”¨å‰æ‰§è¡Œã€‚webpack åœ¨ rules ä¸­æä¾›äº†ä¸€ä¸ª enforce çš„å­—æ®µæ¥é…ç½®å½“å‰ rule çš„ loader ç±»å‹ï¼Œæ²¡é…ç½®çš„è¯æ˜¯æ™®é€šç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½® pre æˆ– postï¼Œåˆ†åˆ«å¯¹åº”å‰ç½®ç±»å‹æˆ–åç½®ç±»å‹çš„ loaderã€‚</p>
<p>è¿˜æœ‰ä¸€ç§è¡Œå†… loaderï¼Œå³æˆ‘ä»¬åœ¨åº”ç”¨ä»£ç ä¸­å¼•ç”¨ä¾èµ–æ—¶ç›´æ¥å£°æ˜ä½¿ç”¨çš„ loaderï¼Œå¦‚ const json = require(â€˜json-loader!./file.jsonâ€™) è¿™ç§,ä¸å»ºè®®åœ¨åº”ç”¨å¼€å‘ä¸­ä½¿ç”¨è¿™ç§loader</p>
<p>æ‰€æœ‰çš„ loader æŒ‰ç…§å‰ç½® -&gt; è¡Œå†… -&gt; æ™®é€š -&gt; åç½®çš„é¡ºåºæ‰§è¡Œã€‚æ‰€ä»¥å½“æˆ‘ä»¬è¦ç¡®ä¿ eslint-loader åœ¨ babel-loader ä¹‹å‰æ‰§è¡Œæ—¶ï¼Œå¯ä»¥å¦‚ä¸‹æ·»åŠ  enforce é…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    enforce: <span class="string">'pre'</span>, <span class="comment">// æŒ‡å®šä¸ºå‰ç½®ç±»å‹</span></span><br><span class="line">    test: <span class="regexp">/\.js$/</span>,</span><br><span class="line">    exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">    loader: <span class="string">"eslint-loader"</span>,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸å»ºè®®æŠŠè¦åº”ç”¨çš„åŒä¸€ç±»å‹ loader éƒ½å†™åœ¨åŒä¸€ä¸ªåŒ¹é…è§„åˆ™ä¸­ï¼Œè¿™æ ·æ›´å¥½ç»´æŠ¤å’Œæ§åˆ¶ã€‚</p>
<h4 id="ä½¿ç”¨noParse"><a href="#ä½¿ç”¨noParse" class="headerlink" title="ä½¿ç”¨noParse"></a>ä½¿ç”¨noParse</h4><p>åœ¨ webpack ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„ loader æ˜¯åœ¨ module.rules ä¸‹é…ç½®çš„ï¼Œwebpack é…ç½®ä¸­çš„ module ç”¨äºæ§åˆ¶å¦‚ä½•å¤„ç†é¡¹ç›®ä¸­ä¸åŒç±»å‹çš„æ¨¡å—ã€‚</p>
<p>é™¤äº† module.rules å­—æ®µç”¨äºé…ç½® loader ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª module.noParse å­—æ®µï¼Œå¯ä»¥ç”¨äºé…ç½®å“ªäº›æ¨¡å—æ–‡ä»¶çš„å†…å®¹ä¸éœ€è¦è¿›è¡Œè§£æã€‚å¯¹äºä¸€äº›ä¸éœ€è¦è§£æä¾èµ–ï¼ˆå³æ— ä¾èµ–ï¼‰ çš„ç¬¬ä¸‰æ–¹å¤§å‹ç±»åº“ç­‰ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå­—æ®µæ¥é…ç½®ï¼Œä»¥æé«˜æ•´ä½“çš„æ„å»ºé€Ÿåº¦ã€‚</p>
<blockquote>
<p>ä½¿ç”¨ noParse è¿›è¡Œå¿½ç•¥çš„æ¨¡å—æ–‡ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ importã€requireã€define ç­‰å¯¼å…¥æœºåˆ¶ã€‚</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    noParse: <span class="regexp">/jquery|lodash/</span>, <span class="comment">// æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆ–è€…ä½¿ç”¨ function</span></span><br><span class="line">    noParse(content) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="regexp">/jquery|lodash/</span>.test(content)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>noParse ä»æŸç§ç¨‹åº¦ä¸Šè¯´æ˜¯ä¸ªä¼˜åŒ–é…ç½®é¡¹ï¼Œæ—¥å¸¸ä¹Ÿå¯ä»¥ä¸å»ä½¿ç”¨ã€‚</p>
<p><strong>webpack çš„ loader ç›¸å…³é…ç½®éƒ½åœ¨ module.rules å­—æ®µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ testã€includeã€exclude ç­‰é…ç½®å¥½åº”ç”¨ loader çš„æ¡ä»¶è§„åˆ™ï¼Œç„¶åä½¿ç”¨ use æ¥æŒ‡å®šéœ€è¦ç”¨åˆ°çš„ loaderï¼Œé…ç½®åº”ç”¨çš„ loader æ—¶è¿˜éœ€è¦æ³¨æ„ä¸€ä¸‹ loader çš„æ‰§è¡Œé¡ºåºã€‚</strong></p>
<h3 id="ä¸‰ã€ä½¿ç”¨plugin"><a href="#ä¸‰ã€ä½¿ç”¨plugin" class="headerlink" title="ä¸‰ã€ä½¿ç”¨plugin"></a>ä¸‰ã€ä½¿ç”¨plugin</h3><p>webpack ä¸­çš„ plugin å¤§å¤šéƒ½æä¾›é¢å¤–çš„èƒ½åŠ›ï¼Œå®ƒä»¬åœ¨ webpack ä¸­çš„é…ç½®éƒ½åªæ˜¯æŠŠæ’ä»¶å®ä¾‹æ·»åŠ åˆ° plugins å­—æ®µçš„æ•°ç»„ä¸­ã€‚ä¸è¿‡ç”±äºéœ€è¦æä¾›ä¸åŒçš„åŠŸèƒ½ï¼Œä¸åŒçš„æ’ä»¶æœ¬èº«çš„é…ç½®æ¯”è¾ƒå¤šæ ·åŒ–ã€‚</p>
<p>å¸¸ç”¨çš„æ’ä»¶ï¼š</p>
<ul>
<li>DefinePlugin</li>
<li>copy-webpack-plugin</li>
<li>extract-text-webpack-plugin/mini-css-extract-plugin</li>
<li>ProvidePlugin</li>
<li>IgnorePlugin</li>
</ul>
<p>å‰é¢4ä¸ªä¸ŠåŸºç¡€ç¯‡å·²ç»è®²è¿‡ï¼Œæ‰€ä»¥ä»ç¬¬4ä¸ªå¼€å§‹è®°å½•ï¼š</p>
<h4 id="DefinePlugin"><a href="#DefinePlugin" class="headerlink" title="DefinePlugin"></a>DefinePlugin</h4><p>DefinePlugin æ˜¯ webpack å†…ç½®çš„æ’ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ webpack.DefinePlugin ç›´æ¥è·å–ã€‚</p>
<p>è¿™ä¸ªæ’ä»¶ç”¨äºåˆ›å»ºä¸€äº›åœ¨ç¼–è¯‘æ—¶å¯ä»¥é…ç½®çš„å…¨å±€å¸¸é‡ï¼Œè¿™äº›å¸¸é‡çš„å€¼æˆ‘ä»¬å¯ä»¥åœ¨ webpack çš„é…ç½®ä¸­å»æŒ‡å®šï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">      PRODUCTION: <span class="built_in">JSON</span>.stringify(<span class="literal">true</span>), <span class="comment">// const PRODUCTION = true</span></span><br><span class="line">      VERSION: <span class="built_in">JSON</span>.stringify(<span class="string">'5fa3b9'</span>), <span class="comment">// const VERSION = '5fa3b9'</span></span><br><span class="line">      BROWSER_SUPPORTS_HTML5: <span class="literal">true</span>, <span class="comment">// const BROWSER_SUPPORTS_HTML5 = 'true'</span></span><br><span class="line">      TWO: <span class="string">'1+1'</span>, <span class="comment">// const TWO = 1 + 1,</span></span><br><span class="line">      CONSTANTS: &#123;</span><br><span class="line">        APP_VERSION: <span class="built_in">JSON</span>.stringify(<span class="string">'1.1.2'</span>) <span class="comment">// const CONSTANTS = &#123; APP_VERSION: '1.1.2' &#125;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ‰äº†ä¸Šé¢çš„é…ç½®ï¼Œå°±å¯ä»¥åœ¨åº”ç”¨ä»£ç æ–‡ä»¶ä¸­ï¼Œè®¿é—®é…ç½®å¥½çš„å˜é‡äº†ï¼Œå¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"Running App version "</span> + VERSION);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!BROWSER_SUPPORTS_HTML5) <span class="built_in">require</span>(<span class="string">"html5shiv"</span>);</span><br></pre></td></tr></table></figure>
<p>ç®€è¿°æ•´ä¸ªé…ç½®è§„åˆ™:</p>
<ul>
<li>å¦‚æœé…ç½®çš„å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆæ•´ä¸ªå­—ç¬¦ä¸²ä¼šè¢«å½“æˆä»£ç ç‰‡æ®µæ¥æ‰§è¡Œï¼Œå…¶ç»“æœä½œä¸ºæœ€ç»ˆå˜é‡çš„å€¼ï¼Œå¦‚ä¸Šé¢çš„ â€œ1+1â€ï¼Œæœ€åçš„ç»“æœæ˜¯ 2</li>
<li>å¦‚æœé…ç½®çš„å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸æ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œé‚£ä¹ˆè¯¥å€¼ä¼šè¢«è½¬ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚ trueï¼Œæœ€åçš„ç»“æœæ˜¯ â€˜trueâ€™</li>
<li>å¦‚æœé…ç½®çš„æ˜¯ä¸€ä¸ªå¯¹è±¡å­—é¢é‡ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡çš„æ‰€æœ‰ key ä¼šä»¥åŒæ ·çš„æ–¹å¼å»å®šä¹‰</li>
</ul>
<p>ç¤¾åŒºä¸­å…³äº DefinePlugin ä½¿ç”¨å¾—æœ€å¤šçš„æ–¹å¼æ˜¯å®šä¹‰ç¯å¢ƒå˜é‡ï¼Œä¾‹å¦‚ PRODUCTION = true æˆ–è€… <strong> DEV </strong> = true ç­‰ã€‚éƒ¨åˆ†ç±»åº“åœ¨å¼€å‘ç¯å¢ƒæ—¶ä¾èµ–è¿™æ ·çš„ç¯å¢ƒå˜é‡æ¥ç»™äºˆå¼€å‘è€…æ›´å¤šçš„å¼€å‘è°ƒè¯•åé¦ˆï¼Œä¾‹å¦‚ react ç­‰ã€‚</p>
<blockquote>
<p>å»ºè®®ä½¿ç”¨ process.env.NODE_ENV: â€¦ çš„æ–¹å¼æ¥å®šä¹‰ process.env.NODE_ENVï¼Œè€Œä¸æ˜¯ä½¿ç”¨ process: { env: { NODE_ENV: â€¦ } } çš„æ–¹å¼ï¼Œå› ä¸ºè¿™æ ·ä¼šè¦†ç›–æ‰ process è¿™ä¸ªå¯¹è±¡ï¼Œå¯èƒ½ä¼šå¯¹å…¶ä»–ä»£ç é€ æˆå½±å“ã€‚</p>
</blockquote>
<h4 id="copy-webpack-plugin"><a href="#copy-webpack-plugin" class="headerlink" title="copy-webpack-plugin"></a>copy-webpack-plugin</h4><p>ä»åå­—å¯ä»¥çŒœåˆ°è¿™ä¸ªæ’ä»¶æ˜¯ç”¨æ¥å¤åˆ¶æ–‡ä»¶çš„ã€‚</p>
<p>æˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠå¼€å‘çš„æ‰€æœ‰æºç å’Œèµ„æºæ–‡ä»¶æ”¾åœ¨ src/ ç›®å½•ä¸‹ï¼Œæ„å»ºçš„æ—¶å€™äº§å‡ºä¸€ä¸ª build/ ç›®å½•ï¼Œé€šå¸¸ä¼šç›´æ¥æ‹¿ build ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ¥å‘å¸ƒã€‚æœ‰äº›æ–‡ä»¶æ²¡ç»è¿‡ webpack å¤„ç†ï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›å®ƒä»¬ä¹Ÿèƒ½å‡ºç°åœ¨ build ç›®å½•ä¸‹ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ CopyWebpackPlugin æ¥å¤„ç†äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> CopyWebpackPlugin = <span class="built_in">require</span>(<span class="string">'copy-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> CopyWebpackPlugin([</span><br><span class="line">      &#123; <span class="attr">from</span>: <span class="string">'src/file.txt'</span>, <span class="attr">to</span>: <span class="string">'build/file.txt'</span>, &#125;, <span class="comment">// é¡¾åæ€ä¹‰ï¼Œfrom é…ç½®æ¥æºï¼Œto é…ç½®ç›®æ ‡è·¯å¾„</span></span><br><span class="line">      &#123; <span class="attr">from</span>: <span class="string">'src/*.ico'</span>, <span class="attr">to</span>: <span class="string">'build/*.ico'</span> &#125;, <span class="comment">// é…ç½®é¡¹å¯ä»¥ä½¿ç”¨ glob</span></span><br><span class="line">      <span class="comment">// å¯ä»¥é…ç½®å¾ˆå¤šé¡¹å¤åˆ¶è§„åˆ™</span></span><br><span class="line">    ]),</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="extract-text-webpack-plugin-mini-css-extract-plugin"><a href="#extract-text-webpack-plugin-mini-css-extract-plugin" class="headerlink" title="extract-text-webpack-plugin/mini-css-extract-plugin"></a>extract-text-webpack-plugin/mini-css-extract-plugin</h4><p>ç”¨å®ƒä»¬æ¥æŠŠä¾èµ–çš„ CSS åˆ†ç¦»å‡ºæ¥æˆä¸ºå•ç‹¬çš„æ–‡ä»¶ã€‚</p>
<ul>
<li>å¦‚æœå½“å‰é¡¹ç›®æ˜¯webpack3.xç‰ˆæœ¬ï¼Œä½¿ç”¨extract-text-webpack-pluginï¼›</li>
<li>å¦‚æœå½“å‰é¡¹ç›®æ˜¯webpack4.xç‰ˆæœ¬ï¼ˆä½†å·²æœ‰extract-text-webpack-pluginé…ç½®ï¼‰ï¼Œå¯ä»¥ç»§ç»­ç”¨extract-text-webpack-pluginï¼Œä½†å¿…é¡»ç”¨å¯¹åº”çš„betaç‰ˆæœ¬ï¼Œä¸”è¿™ä¸ªbetaç‰ˆæœ¬ä¸æ”¯æŒç”Ÿæˆhashï¼›</li>
<li>å¦‚æœå½“å‰é¡¹ç›®æ˜¯webpack4.xç‰ˆæœ¬ä¸”æ˜¯æ–°é¡¹ç›®ï¼Œä½¿ç”¨mini-css-extract-pluginã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn add extract-text-webpack-plugin@next -D</span><br><span class="line">yarn add mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const ExtractTextPlugin = require('extract-text-webpack-plugin');</span></span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">'mini-css-extract-plugin'</span>); </span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        <span class="comment">// å› ä¸ºè¿™ä¸ªæ’ä»¶éœ€è¦å¹²æ¶‰æ¨¡å—è½¬æ¢çš„å†…å®¹ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨å®ƒå¯¹åº”çš„ loader</span></span><br><span class="line">        <span class="comment">// use: ExtractTextPlugin.extract(&#123; </span></span><br><span class="line">          <span class="comment">// fallback: 'style-loader',</span></span><br><span class="line">          <span class="comment">// use: 'css-loader',</span></span><br><span class="line">        <span class="comment">// &#125;), </span></span><br><span class="line">         use: [</span><br><span class="line">            MiniCssExtractPlugin.loader,</span><br><span class="line">            &#123;</span><br><span class="line">                loader: <span class="string">'css-loader'</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// å¼•å…¥æ’ä»¶ï¼Œé…ç½®æ–‡ä»¶åï¼Œè¿™é‡ŒåŒæ ·å¯ä»¥ä½¿ç”¨ [hash]</span></span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">            filename: <span class="string">"[name].[hash].css"</span></span><br><span class="line">        &#125;)  </span><br><span class="line">    ],</span><br><span class="line">     <span class="comment">// å¼•å…¥æ’ä»¶ï¼Œé…ç½®æ–‡ä»¶åï¼Œè¿™é‡ŒåŒæ ·å¯ä»¥ä½¿ç”¨ [hash]</span></span><br><span class="line">    <span class="comment">// new ExtractTextPlugin('[name].css'),</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ webpack ä¸­ï¼Œloader å’Œ plugin çš„åŒºåˆ†æ˜¯å¾ˆæ¸…æ¥šçš„ï¼Œé’ˆå¯¹æ–‡ä»¶æ¨¡å—è½¬æ¢è¦åšçš„ä½¿ç”¨ loaderï¼Œè€Œå…¶ä»–å¹²æ¶‰æ„å»ºå†…å®¹çš„å¯ä»¥ä½¿ç”¨ pluginã€‚ ExtractTextWebpackPlugin å’Œ MiniCssExtractPluginæ—¢æä¾›äº† pluginï¼Œä¹Ÿæä¾›äº† extract æ–¹æ³•æ¥è·å–å¯¹åº”éœ€è¦çš„ loaderã€‚</p>
<h4 id="ProvidePlugin"><a href="#ProvidePlugin" class="headerlink" title="ProvidePlugin"></a>ProvidePlugin</h4><p>ProvidePlugin ä¹Ÿæ˜¯ä¸€ä¸ª webpack å†…ç½®çš„æ’ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ webpack.ProvidePlugin æ¥è·å–ã€‚</p>
<p>è¯¥ç»„ä»¶ç”¨äºå¼•ç”¨æŸäº›æ¨¡å—ä½œä¸ºåº”ç”¨è¿è¡Œæ—¶çš„å˜é‡ï¼Œä»è€Œä¸å¿…æ¯æ¬¡éƒ½ç”¨ require æˆ–è€… importï¼Œå…¶ç”¨æ³•ç›¸å¯¹ç®€å•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">  identifier: <span class="string">'module'</span>,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">  identifier: [<span class="string">'module'</span>, <span class="string">'property'</span>], <span class="comment">// å³å¼•ç”¨ module ä¸‹çš„ propertyï¼Œç±»ä¼¼ import &#123; property &#125; from 'module'</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½ çš„ä»£ç ä¸­ï¼Œå½“ identifier è¢«å½“ä½œæœªèµ‹å€¼çš„å˜é‡æ—¶ï¼Œmodule å°±ä¼šè¢«è‡ªåŠ¨åŠ è½½äº†ï¼Œè€Œ identifier è¿™ä¸ªå˜é‡å³ module å¯¹å¤–æš´éœ²çš„å†…å®¹ã€‚</p>
<p>æ³¨æ„ï¼Œå¦‚æœæ˜¯ ES6 çš„ default exportï¼Œé‚£ä¹ˆä½ éœ€è¦æŒ‡å®šæ¨¡å—çš„ default å±æ€§ï¼šidentifier: [â€˜moduleâ€™, â€˜defaultâ€™],</p>
<h4 id="IgnorePlugin"><a href="#IgnorePlugin" class="headerlink" title="IgnorePlugin"></a>IgnorePlugin</h4><p>IgnorePlugin å’Œ ProvidePlugin ä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª webpack å†…ç½®çš„æ’ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ webpack.IgnorePlugin æ¥è·å–ã€‚</p>
<p>è¿™ä¸ªæ’ä»¶ç”¨äºå¿½ç•¥æŸäº›ç‰¹å®šçš„æ¨¡å—ï¼Œè®© webpack ä¸æŠŠè¿™äº›æŒ‡å®šçš„æ¨¡å—æ‰“åŒ…è¿›å»ã€‚ä¾‹å¦‚æˆ‘ä»¬ä½¿ç”¨ moment.jsï¼Œç›´æ¥å¼•ç”¨åï¼Œé‡Œè¾¹æœ‰å¤§é‡çš„ i18n çš„ä»£ç ï¼Œå¯¼è‡´æœ€åæ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶æ¯”è¾ƒå¤§ï¼Œè€Œå®é™…åœºæ™¯å¹¶ä¸éœ€è¦è¿™äº› i18n çš„ä»£ç ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ IgnorePlugin æ¥å¿½ç•¥æ‰è¿™äº›ä»£ç æ–‡ä»¶ï¼Œé…ç½®å¦‚ä¸‹:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.IgnorePlugin(<span class="regexp">/^\.\/locale$/</span>, /moment$/)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IgnorePlugin é…ç½®çš„å‚æ•°æœ‰ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªæ˜¯åŒ¹é…å¼•å…¥æ¨¡å—è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªæ˜¯åŒ¹é…æ¨¡å—çš„å¯¹åº”ä¸Šä¸‹æ–‡ï¼Œå³æ‰€åœ¨ç›®å½•åã€‚</p>
<h3 id="å››ã€æ›´å¥½åœ°ä½¿ç”¨webpack-dev-server"><a href="#å››ã€æ›´å¥½åœ°ä½¿ç”¨webpack-dev-server" class="headerlink" title="å››ã€æ›´å¥½åœ°ä½¿ç”¨webpack-dev-server"></a>å››ã€æ›´å¥½åœ°ä½¿ç”¨webpack-dev-server</h3><p>åœ¨æ„å»ºä»£ç å¹¶éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæœ¬åœ°ç¯å¢ƒï¼Œç”¨äºè¿è¡Œæˆ‘ä»¬å¼€å‘çš„ä»£ç ã€‚è¿™ä¸ªç¯å¢ƒç›¸å½“äºæä¾›äº†ä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨ï¼Œç”¨äºè®¿é—® webpack æ„å»ºå¥½çš„é™æ€æ–‡ä»¶ï¼Œæˆ‘ä»¬æ—¥å¸¸å¼€å‘æ—¶å¯ä»¥ä½¿ç”¨å®ƒæ¥è°ƒè¯•å‰ç«¯ä»£ç ã€‚</p>
<p>webpack-dev-server æ˜¯ webpack å®˜æ–¹æä¾›çš„ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥åŸºäºå½“å‰çš„ webpack æ„å»ºé…ç½®å¿«é€Ÿå¯åŠ¨ä¸€ä¸ªé™æ€æœåŠ¡ã€‚å½“ mode ä¸º development æ—¶ï¼Œä¼šå…·å¤‡ hot reload çš„åŠŸèƒ½ï¼Œå³å½“æºç æ–‡ä»¶å˜åŒ–æ—¶ï¼Œä¼šå³æ—¶æ›´æ–°å½“å‰é¡µé¢ï¼Œä»¥ä¾¿ä½ çœ‹åˆ°æœ€æ–°çš„æ•ˆæœã€‚</p>
<h4 id="åŸºç¡€ä½¿ç”¨"><a href="#åŸºç¡€ä½¿ç”¨" class="headerlink" title="åŸºç¡€ä½¿ç”¨"></a>åŸºç¡€ä½¿ç”¨</h4><p>å»ºè®®æŠŠ webpack-dev-server ä½œä¸ºå¼€å‘ä¾èµ–å®‰è£…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-dev-server -D</span><br></pre></td></tr></table></figure>
<p>package ä¸­çš„ scripts é…ç½®ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"start"</span>: <span class="string">"webpack-dev-server --mode development"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn start</span><br></pre></td></tr></table></figure>
<p>webpack-dev-server é»˜è®¤ä½¿ç”¨ 8080 ç«¯å£ï¼Œå¦‚æœä½ ä½¿ç”¨äº† html-webpack-plugin æ¥æ„å»º HTML æ–‡ä»¶ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ª index.html çš„æ„å»ºç»“æœï¼Œé‚£ä¹ˆç›´æ¥è®¿é—® <a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> å°±å¯ä»¥çœ‹åˆ° index.html é¡µé¢äº†ã€‚å¦‚æœæ²¡æœ‰ HTML æ–‡ä»¶çš„è¯ï¼Œé‚£ä¹ˆ webpack-dev-server ä¼šç”Ÿæˆä¸€ä¸ªå±•ç¤ºé™æ€èµ„æºåˆ—è¡¨çš„é¡µé¢ã€‚</p>
<h4 id="è¯¦ç»†é…ç½®"><a href="#è¯¦ç»†é…ç½®" class="headerlink" title="è¯¦ç»†é…ç½®"></a>è¯¦ç»†é…ç½®</h4><p>åœ¨ webpack çš„é…ç½®ä¸­ï¼Œå¯ä»¥é€šè¿‡ devServer å­—æ®µæ¥é…ç½® webpack-dev-serverï¼Œå¦‚ç«¯å£è®¾ç½®ã€å¯åŠ¨ gzip å‹ç¼©ç­‰ï¼Œå‡ ä¸ªå¸¸ç”¨çš„é…ç½®å¦‚ä¸‹ï¼š</p>
<ul>
<li>public</li>
</ul>
<p>public å­—æ®µç”¨äºæŒ‡å®šé™æ€æœåŠ¡çš„åŸŸåï¼Œé»˜è®¤æ˜¯ <a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> ï¼Œå½“ä½ ä½¿ç”¨ Nginx æ¥åšåå‘ä»£ç†æ—¶ï¼Œåº”è¯¥å°±éœ€è¦ä½¿ç”¨è¯¥é…ç½®æ¥æŒ‡å®š Nginx é…ç½®ä½¿ç”¨çš„æœåŠ¡åŸŸåã€‚</p>
<ul>
<li>port</li>
</ul>
<p>ç”¨äºæŒ‡å®šé™æ€æœåŠ¡çš„ç«¯å£ï¼Œå¦‚ä¸Šï¼Œé»˜è®¤æ˜¯ 8080ï¼Œé€šå¸¸æƒ…å†µä¸‹éƒ½ä¸éœ€è¦æ”¹åŠ¨</p>
<ul>
<li>publicPath</li>
</ul>
<p>ç”¨äºæŒ‡å®šæ„å»ºå¥½çš„é™æ€æ–‡ä»¶åœ¨æµè§ˆå™¨ä¸­ç”¨ä»€ä¹ˆè·¯å¾„å»è®¿é—®ï¼Œé»˜è®¤æ˜¯ /ï¼Œä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªæ„å»ºå¥½çš„æ–‡ä»¶ bundle.jsï¼Œå®Œæ•´çš„è®¿é—®è·¯å¾„æ˜¯ <a href="http://localhost:8080/bundle.jsï¼Œ" target="_blank" rel="noopener">http://localhost:8080/bundle.jsï¼Œ</a> å¦‚æœé…ç½®äº† publicPath: â€˜assets/â€˜ï¼Œé‚£ä¹ˆä¸Šè¿° bundle.js çš„å®Œæ•´è®¿é—®è·¯å¾„å°±æ˜¯ <a href="http://localhost:8080/assets/bundle.jsã€‚" target="_blank" rel="noopener">http://localhost:8080/assets/bundle.jsã€‚</a></p>
<p>å¯ä»¥ä½¿ç”¨æ•´ä¸ª URL æ¥ä½œä¸º publicPath çš„å€¼ï¼Œå¦‚ publicPath: â€˜<a href="http://localhost:8080/assets/&#39;ã€‚" target="_blank" rel="noopener">http://localhost:8080/assets/&#39;ã€‚</a> å¦‚æœä½¿ç”¨äº† HMRï¼Œé‚£ä¹ˆè¦è®¾ç½® publicPath å°±å¿…é¡»ä½¿ç”¨å®Œæ•´çš„ URLã€‚</p>
<blockquote>
<p>å»ºè®®å°† devServer.publicPath å’Œ output.publicPath çš„å€¼ä¿æŒä¸€è‡´ã€‚</p>
</blockquote>
<ul>
<li>proxy</li>
</ul>
<p>ç”¨äºé…ç½® webpack-dev-server å°†ç‰¹å®š URL çš„è¯·æ±‚ä»£ç†åˆ°å¦å¤–ä¸€å°æœåŠ¡å™¨ä¸Šã€‚è¯¥åŠŸèƒ½æ˜¯ä½¿ç”¨ http-proxy-middleware æ¥å®ç°çš„ï¼Œå½“ä½ æœ‰å•ç‹¬çš„åç«¯å¼€å‘æœåŠ¡å™¨ç”¨äºè¯·æ±‚ API æ—¶ï¼Œè¿™ä¸ªé…ç½®éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">proxy: &#123;</span><br><span class="line">  <span class="string">'/api'</span>: &#123;</span><br><span class="line">    target: <span class="string">"http://localhost:3000"</span>, <span class="comment">// å°† URL ä¸­å¸¦æœ‰ /api çš„è¯·æ±‚ä»£ç†åˆ°æœ¬åœ°çš„ 3000 ç«¯å£çš„æœåŠ¡ä¸Š</span></span><br><span class="line">    pathRewrite: &#123; <span class="string">'^/api'</span>: <span class="string">''</span> &#125;, <span class="comment">// æŠŠ URL ä¸­ path éƒ¨åˆ†çš„ `api` ç§»é™¤æ‰</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li>contentBase</li>
</ul>
<p>ç”¨äºé…ç½®æä¾›é¢å¤–é™æ€æ–‡ä»¶å†…å®¹çš„ç›®å½•ï¼Œä¹‹å‰æåˆ°çš„ publicPath æ˜¯é…ç½®æ„å»ºå¥½çš„ç»“æœä»¥ä»€ä¹ˆæ ·çš„è·¯å¾„å»è®¿é—®ï¼Œè€Œ contentBase æ˜¯é…ç½®é¢å¤–çš„é™æ€æ–‡ä»¶å†…å®¹çš„è®¿é—®è·¯å¾„ï¼Œå³é‚£äº›ä¸ç»è¿‡ webpack æ„å»ºï¼Œä½†æ˜¯éœ€è¦åœ¨ webpack-dev-server ä¸­æä¾›è®¿é—®çš„é™æ€èµ„æºï¼ˆå¦‚éƒ¨åˆ†å›¾ç‰‡ç­‰ï¼‰ã€‚æ¨èä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„ public</span></span><br><span class="line">contentBase: path.join(__dirname, <span class="string">"public"</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°ç»„æä¾›å¤šä¸ªè·¯å¾„</span></span><br><span class="line">contentBase: [path.join(__dirname, <span class="string">"public"</span>), path.join(__dirname, <span class="string">"assets"</span>)]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>publicPath çš„ä¼˜å…ˆçº§é«˜äº contentBaseã€‚</p>
</blockquote>
<ul>
<li>before</li>
<li>after</li>
</ul>
<p>before å’Œ after é…ç½®ç”¨äºåœ¨ webpack-dev-server å®šä¹‰é¢å¤–çš„ä¸­é—´ä»¶ï¼Œå¦‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">before(app)&#123;</span><br><span class="line">  app.get(<span class="string">'/some/path'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123; <span class="comment">// å½“è®¿é—® /some/path è·¯å¾„æ—¶ï¼Œè¿”å›è‡ªå®šä¹‰çš„ json æ•°æ®</span></span><br><span class="line">    res.json(&#123; <span class="attr">custom</span>: <span class="string">'response'</span> &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>before åœ¨ webpack-dev-server é™æ€èµ„æºä¸­é—´ä»¶å¤„ç†ä¹‹å‰ï¼Œå¯ä»¥ç”¨äºæ‹¦æˆªéƒ¨åˆ†è¯·æ±‚è¿”å›ç‰¹å®šå†…å®¹ï¼Œæˆ–è€…å®ç°ç®€å•çš„æ•°æ® mockã€‚</p>
<p>after åœ¨ webpack-dev-server é™æ€èµ„æºä¸­é—´ä»¶å¤„ç†ä¹‹åï¼Œæ¯”è¾ƒå°‘ç”¨åˆ°ï¼Œå¯ä»¥ç”¨äºæ‰“å°æ—¥å¿—æˆ–è€…åšä¸€äº›é¢å¤–å¤„ç†ã€‚</p>
<h4 id="webpack-dev-middleware"><a href="#webpack-dev-middleware" class="headerlink" title="webpack-dev-middleware"></a>webpack-dev-middleware</h4><p>ä¸­é—´ä»¶å°±æ˜¯åœ¨ Express ä¹‹ç±»çš„ Web æ¡†æ¶ä¸­å®ç°å„ç§å„æ ·åŠŸèƒ½ï¼ˆå¦‚é™æ€æ–‡ä»¶è®¿é—®ï¼‰çš„è¿™ä¸€éƒ¨åˆ†å‡½æ•°ã€‚å¤šä¸ªä¸­é—´ä»¶å¯ä»¥ä¸€èµ·ååŒæ„å»ºèµ·ä¸€ä¸ªå®Œæ•´çš„ Web æœåŠ¡å™¨ã€‚</p>
<p>webpack-dev-middleware å°±æ˜¯åœ¨ Express ä¸­æä¾› webpack-dev-server é™æ€æœåŠ¡èƒ½åŠ›çš„ä¸€ä¸ªä¸­é—´ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾åœ°å°†å…¶é›†æˆåˆ°ç°æœ‰çš„ Express ä»£ç ä¸­å»ï¼Œå°±åƒæ·»åŠ ä¸€ä¸ª Express ä¸­é—´ä»¶é‚£ä¹ˆç®€å•ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack-dev-middleware -D</span><br></pre></td></tr></table></figure>
<p>æ¥ç€åˆ›å»ºä¸€ä¸ª Node.js æœåŠ¡çš„è„šæœ¬æ–‡ä»¶ï¼Œå¦‚ app.jsï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"><span class="keyword">const</span> middleware = <span class="built_in">require</span>(<span class="string">'webpack-dev-middleware'</span>)</span><br><span class="line"><span class="keyword">const</span> webpackOptions = <span class="built_in">require</span>(<span class="string">'./webpack.config.js'</span>) <span class="comment">// webpack é…ç½®æ–‡ä»¶çš„è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ¬åœ°çš„å¼€å‘ç¯å¢ƒé»˜è®¤å°±æ˜¯ä½¿ç”¨ development mode</span></span><br><span class="line">webpackOptions.mode = <span class="string">'development'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> compiler = webpack(webpackOptions)</span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line">app.use(middleware(compiler, &#123;</span><br><span class="line">  <span class="comment">// webpack-dev-middleware çš„é…ç½®é€‰é¡¹</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…¶ä»– Web æœåŠ¡ä¸­é—´ä»¶</span></span><br><span class="line"><span class="comment">// app.use(...)</span></span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, () =&gt; <span class="built_in">console</span>.log(<span class="string">'Example app listening on port 3000!'</span>))</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node app.js # ä½¿ç”¨åˆšæ‰åˆ›å»ºçš„ app.js æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ webpack-dev-server çš„å¥½å¤„æ˜¯ç›¸å¯¹ç®€å•ï¼Œç›´æ¥å®‰è£…ä¾èµ–åæ‰§è¡Œå‘½ä»¤å³å¯ï¼Œè€Œä½¿ç”¨ webpack-dev-middleware çš„å¥½å¤„æ˜¯å¯ä»¥åœ¨æ—¢æœ‰çš„ Express ä»£ç åŸºç¡€ä¸Šå¿«é€Ÿæ·»åŠ  webpack-dev-server çš„åŠŸèƒ½ï¼ŒåŒæ—¶åˆ©ç”¨ Express æ¥æ ¹æ®éœ€è¦æ·»åŠ æ›´å¤šçš„åŠŸèƒ½ï¼Œå¦‚ mock æœåŠ¡ã€ä»£ç† API è¯·æ±‚ç­‰ã€‚</p>
<p>å…¶å® webpack-dev-server ä¹Ÿæ˜¯åŸºäº Express å¼€å‘çš„ï¼Œå‰é¢æåŠçš„ webpack-dev-server ä¸­ before æˆ– after çš„é…ç½®å­—æ®µï¼Œä¹Ÿå¯ä»¥ç”¨äºç¼–å†™ç‰¹å®šçš„ä¸­é—´ä»¶æ¥æ ¹æ®éœ€è¦æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚</p>
<h4 id="å®ç°ç®€å•çš„mockæœåŠ¡"><a href="#å®ç°ç®€å•çš„mockæœåŠ¡" class="headerlink" title="å®ç°ç®€å•çš„mockæœåŠ¡"></a>å®ç°ç®€å•çš„mockæœåŠ¡</h4><p>webpack-dev-server çš„ before æˆ– proxy é…ç½®ï¼Œåˆæˆ–è€…æ˜¯ webpack-dev-middleware ç»“åˆ Expressï¼Œéƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ¥å®ç°ç®€å•çš„ mock æœåŠ¡ã€‚</p>
<p>ä¸»è¦çš„éœ€æ±‚æ˜¯å½“æµè§ˆå™¨è¯·æ±‚æŸä¸€ä¸ªç‰¹å®šçš„è·¯å¾„æ—¶ï¼ˆå¦‚ /some/path ï¼‰ï¼Œå¯ä»¥è®¿é—®æˆ‘ä»¬æƒ³è¦çš„æ•°æ®å†…å®¹ã€‚</p>
<p>å…ˆåŸºäº Express app å®ç°ä¸€ä¸ªç®€å• mock åŠŸèƒ½çš„æ–¹æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.export = <span class="function"><span class="keyword">function</span> <span class="title">mock</span>(<span class="params">app</span>) </span>&#123;</span><br><span class="line">  app.get(<span class="string">'/some/path'</span>, (req, res) =&gt; &#123;</span><br><span class="line">    res.json(&#123; <span class="attr">data</span>: <span class="string">''</span> &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ... å…¶ä»–çš„è¯·æ±‚ mock</span></span><br><span class="line">  <span class="comment">// å¦‚æœ mock ä»£ç è¿‡å¤šï¼Œå¯ä»¥å°†å…¶æ‹†åˆ†æˆå¤šä¸ªä»£ç æ–‡ä»¶ï¼Œç„¶å require è¿›æ¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååº”ç”¨åˆ°é…ç½®ä¸­çš„ before å­—æ®µï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mock = <span class="built_in">require</span>(<span class="string">'./mock'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">before(app) &#123;</span><br><span class="line">  mock(app) <span class="comment">// è°ƒç”¨ mock å‡½æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„ mock å‡½æ•°ç…§æ ·å¯ä»¥åº”ç”¨åˆ° Express ä¸­å»ï¼Œæä¾›ä¸ webpack-dev-middleware åŒæ ·çš„åŠŸèƒ½ã€‚</p>
<p>ç”±äº app.get(â€˜â€™, (req, res) =&gt; { â€¦ }) çš„ callback å¯ä»¥æ‹¿åˆ° req è¯·æ±‚å¯¹è±¡ï¼Œå…¶å®å¯ä»¥æ ¹æ®è¯·æ±‚å‚æ•°æ¥æ”¹å˜è¿”å›çš„ç»“æœï¼Œå³é€šè¿‡å‚æ•°æ¥æ¨¡æ‹Ÿå¤šç§åœºæ™¯çš„è¿”å›æ•°æ®æ¥ååŠ©æµ‹è¯•å¤šç§åœºæ™¯ä¸‹çš„ä»£ç åº”ç”¨ã€‚</p>
<p>å’Œåç«¯å¼€å‘è¿›è¡Œè”è°ƒæ—¶ï¼Œäº¦å¯ä½¿ç”¨ proxy ä»£ç†åˆ°å¯¹åº”è”è°ƒä½¿ç”¨çš„æœºå™¨ä¸Šï¼Œä»è€Œå¯ä»¥ä½¿ç”¨æœ¬åœ°å‰ç«¯ä»£ç çš„å¼€å‘ç¯å¢ƒæ¥è¿›è¡Œè”è°ƒã€‚</p>

      
    </div>
    
    
    

    
    <div>
      
        
<div class="my_post_copyright">
  <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
  
  <!-- JSåº“ sweetalert å¯ä¿®æ”¹è·¯å¾„ -->
  <script src="https://cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <p><span>æœ¬æ–‡æ ‡é¢˜:</span><a href="/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/">webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†</a></p>
  <p><span>æ–‡ç« ä½œè€…:</span><a href="/" title="è®¿é—® tongtong çš„ä¸ªäººåšå®¢">tongtong</a></p>
  <p><span>å‘å¸ƒæ—¶é—´:</span>2019å¹´04æœˆ20æ—¥ - 16:04</p>
  <p><span>æœ€åæ›´æ–°:</span>2019å¹´04æœˆ24æ—¥ - 11:04</p>
  <p><span>åŸå§‹é“¾æ¥:</span><a href="/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/" title="webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†">https://ilove-coding.github.io/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/</a>
    <span class="copy-path"  title="ç‚¹å‡»å¤åˆ¶æ–‡ç« é“¾æ¥"><i class="fa fa-clipboard" data-clipboard-text="https://ilove-coding.github.io/2019/04/20/webpack4ç¬”è®°(2)-è¿›é˜¶çŸ¥è¯†/"  aria-label="å¤åˆ¶æˆåŠŸï¼"></i></span>
  </p>
  <p><span>è®¸å¯åè®®:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…</a> è½¬è½½è¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…ã€‚</p>  
</div>
<script> 
    var clipboard = new Clipboard('.fa-clipboard');
      $(".fa-clipboard").click(function(){
      clipboard.on('success', function(){
        swal({   
          title: "",   
          text: 'å¤åˆ¶æˆåŠŸ',
          icon: "success", 
          showConfirmButton: true
          });
        });
    });  
</script>

      
</div>

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>æ‰“èµ</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/path/to/wechat-reward-image" alt="tongtong å¾®ä¿¡æ”¯ä»˜"/>
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/path/to/alipay-reward-image" alt="tongtong æ”¯ä»˜å®"/>
        <p>æ”¯ä»˜å®</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
<div>

  <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------æœ¬æ–‡ç»“æŸ<i class="fa fa-paw"></i>-------------</div>
    
</div>

</div>
    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/webpackç¬”è®°/" rel="tag"><i class="fa fa-tag"></i> webpackç¬”è®°</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/04/20/[å¾…å®Œæˆ]webpack4ç¬”è®°(6)-æ€§èƒ½ä¼˜åŒ–/" rel="next" title="webpack4ç¬”è®°(6)-æ€§èƒ½ä¼˜åŒ–">
                <i class="fa fa-chevron-left"></i> webpack4ç¬”è®°(6)-æ€§èƒ½ä¼˜åŒ–
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/04/21/webpack4ç¬”è®°(5)-ç¯å¢ƒåˆ†ç¦»/" rel="prev" title="webpack4ç¬”è®°(5)-ç¯å¢ƒåˆ†ç¦»">
                webpack4ç¬”è®°(5)-ç¯å¢ƒåˆ†ç¦» <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zMzQxNS85OTcx"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1516370448451&di=1e8172ba90a1a66f4caf86ce44558beb&imgtype=0&src=http%3A%2F%2Fp1.gexing.com%2Ftouxiang%2F20121103%2F1718%2F5094e150a277e_200x200_3.gif"
                alt="tongtong" />
            
              <p class="site-author-name" itemprop="name">tongtong</p>
              <p class="site-description motion-element" itemprop="description">çˆ±ç”Ÿæ´» çˆ±å­¦ä¹ </p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">48</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/iLove-Coding" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/b210912af0f2" target="_blank" title="jianshu">
                      
                        <i class="fa fa-fw fa-heartbeat"></i>jianshu</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                æ¨èé˜…è¯»
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.zhangxinxu.com/" title="å¼ é‘«æ—­" target="_blank">å¼ é‘«æ—­</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://ife.baidu.com/" title="ç™¾åº¦å‰ç«¯æŠ€æœ¯å­¦é™¢" target="_blank">ç™¾åº¦å‰ç«¯æŠ€æœ¯å­¦é™¢</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://wf.uisdc.com/cn/" title="googleå‰ç«¯å¼€å‘åŸºç¡€" target="_blank">googleå‰ç«¯å¼€å‘åŸºç¡€</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.36zhen.com/t?id=3448" title="å‰ç«¯ä¹¦ç±èµ„æ–™" target="_blank">å‰ç«¯ä¹¦ç±èµ„æ–™</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„"><span class="nav-number">1.</span> <span class="nav-text">ä¸€ã€webpackè§£æä»£ç æ¨¡å—è·¯å¾„</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æ¨¡å—è§£æè§„åˆ™"><span class="nav-number">1.1.</span> <span class="nav-text">æ¨¡å—è§£æè§„åˆ™</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å¸¸ç”¨é…ç½®"><span class="nav-number">1.2.</span> <span class="nav-text">å¸¸ç”¨é…ç½®</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äºŒã€é…ç½®loader"><span class="nav-number">2.</span> <span class="nav-text">äºŒã€é…ç½®loader</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#loaderåŒ¹é…è§„åˆ™"><span class="nav-number">2.1.</span> <span class="nav-text">loaderåŒ¹é…è§„åˆ™</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è§„åˆ™æ¡ä»¶é…ç½®"><span class="nav-number">2.2.</span> <span class="nav-text">è§„åˆ™æ¡ä»¶é…ç½®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#module-type"><span class="nav-number">2.3.</span> <span class="nav-text">module type</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨loaderé…ç½®"><span class="nav-number">2.4.</span> <span class="nav-text">ä½¿ç”¨loaderé…ç½®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#loaderåº”ç”¨é¡ºåº"><span class="nav-number">2.5.</span> <span class="nav-text">loaderåº”ç”¨é¡ºåº</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨noParse"><span class="nav-number">2.6.</span> <span class="nav-text">ä½¿ç”¨noParse</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸‰ã€ä½¿ç”¨plugin"><span class="nav-number">3.</span> <span class="nav-text">ä¸‰ã€ä½¿ç”¨plugin</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#DefinePlugin"><span class="nav-number">3.1.</span> <span class="nav-text">DefinePlugin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#copy-webpack-plugin"><span class="nav-number">3.2.</span> <span class="nav-text">copy-webpack-plugin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#extract-text-webpack-plugin-mini-css-extract-plugin"><span class="nav-number">3.3.</span> <span class="nav-text">extract-text-webpack-plugin/mini-css-extract-plugin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ProvidePlugin"><span class="nav-number">3.4.</span> <span class="nav-text">ProvidePlugin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IgnorePlugin"><span class="nav-number">3.5.</span> <span class="nav-text">IgnorePlugin</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å››ã€æ›´å¥½åœ°ä½¿ç”¨webpack-dev-server"><span class="nav-number">4.</span> <span class="nav-text">å››ã€æ›´å¥½åœ°ä½¿ç”¨webpack-dev-server</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#åŸºç¡€ä½¿ç”¨"><span class="nav-number">4.1.</span> <span class="nav-text">åŸºç¡€ä½¿ç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#è¯¦ç»†é…ç½®"><span class="nav-number">4.2.</span> <span class="nav-text">è¯¦ç»†é…ç½®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#webpack-dev-middleware"><span class="nav-number">4.3.</span> <span class="nav-text">webpack-dev-middleware</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å®ç°ç®€å•çš„mockæœåŠ¡"><span class="nav-number">4.4.</span> <span class="nav-text">å®ç°ç®€å•çš„mockæœåŠ¡</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; 2017 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-star"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">tongtong</span>

  
</div>
<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  æœ¬ç«™è®¿å®¢æ•°ï¼š<span id="busuanzi_value_site_uv"></span>
</span>
</div>
<!--

  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>

-->


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  





  

  

  

  
  

  

  

  


</body>
</html>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/src/love.js"></script>
